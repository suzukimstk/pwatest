<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA IntroDuction</title>
  <link rel="stylesheet" type="text/css" href="./inline.css">
  <link rel="manifest" href="./manifest.json?201810011442">
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(function(registration) {
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }).catch(function(err) {
        console.log('ServiceWorker registration failed: ', err);
    });
}
</script>
    <script src="jquery-3.3.1.min.js"></script>
    <script src="SlideShow.js"></script>
    <script>
    	function onResize(){
            var w = $(window).width();
            var h = w * 3 / 4;
            
            if(h > $(window).height() - 50){
            	var diff = h - $(window).height() + 50;
            	h = $(window).height() - 50;
            	w = w - (diff * 4 / 3);
            }
            
            
            $("#slider").css({
            	width: w,
            	height: h
            });
    	}
    	window.onresize = onResize;
    
        window.onload = function () {
            var book = new SlideShow("slider");
            
            onResize();
            var i = 1;
            book.addTextData(i, 10, 360, "PWA IntroDuction", "80","rgb(192,168,0)",true);
            
            i++;
            book.addTextData(i, 10, 150, "・目次", "40",true);
            book.addTextData(i, 30, 200, "1.PWAとは", "30");
            book.addTextData(i, 30, 250, "2.利点", "30");
            book.addTextData(i, 30, 300, "3.Example", "30");
            book.addTextData(i, 30, 350, "4.展望", "30");
            i++;
            book.addTextData(i, 10, 130, "・1.PWAとは", "50",true);
            book.addTextData(i, 30, 200, "Progressive Web Appの略称", "30");
            book.addTextData(i, 30, 240, "グーグルがモバイルユーザーのユーザー体験向上を目的とし、", "30");
            book.addTextData(i, 30, 280, "今までのWebアプリ（サービス）にWebとアプリの両方の利点を", "30");
            book.addTextData(i, 30, 320, "兼ね備えた仕組み", "30");
            
            book.addTextData(i, 30, 500, "らしい", "50");            
            i++;
            book.addTextData(i, 10, 140, "つまり？", "80",true);
            book.addTextData(i, 30, 250, "ネイティブアプリのように動く(振る舞う)Webページ", "40");
            
            i++;
            book.addTextData(i, 10, 130, "2.利点", "60",true);
            book.addTextData(i, 30, 200, "①レスポンス向上/オフライン利用", "40");
            book.addTextData(i, 30, 260, "②アップデート/リリース審査/インストール不要", "40");
            book.addTextData(i, 30, 320, "③Push、GPSなどの一部端末APIへのアクセス", "40");
            book.addTextData(i, 30, 380, "④ブラウザ固有のUIの排除", "40"); 
            
            i++;
            book.addTextData(i, 10, 130, "比較表", "50",true);          
            book.addImageData(i, "表.png",10, 200, 1.9);
            
            i++;
            book.addTextData(i, 10, 130, "3.Example", "50",true);
            book.addTextData(i, 30, 200, "このスライド自体がProgressive Web Appとして", "30");
            book.addTextData(i, 30, 240, "動作しています。", "30");            
            book.addTextData(i, 10, 320, "配置URL:", "30")                  
            book.addTextData(i, 10, 400, "https://suzukimstk.github.io/pwatest/", "60")            
            
            i++;
            book.addTextData(i, 10, 130, "・PWA構成要素", "50",true);
            book.addTextData(i, 30, 240, "①Web App Manifest", "50");
            book.addTextData(i, 30, 310, "②Service Worker", "50");
            book.addTextData(i, 30, 380, "③Webアプリ", "50")
            
            i++;
            book.addTextData(i, 10, 130, "①Web App Manifest", "50",true);
            book.addTextData(i, 30, 200, "このサイト(アプリケーション)が何者かを定義する。(2.②の一部、2.④)", "30");
            book.addImageData(i, "manifest.png",10, 230, 1.5);
            book.addImageData(i, "manifest2.PNG",400, 230 ,0.3);
            
            i++;
            book.addTextData(i, 10, 130, "②Service Worker", "50",true);
            book.addTextData(i, 30, 200, "ブラウザとは別にバックグラウンドで動くjs(2.①、2.②、2.③)", "30");
            book.addImageData(i, "sw.png",10, 230,1.1);
            
            i++;
            book.addTextData(i, 10, 130, "③Webアプリ", "50",true);
            book.addTextData(i, 30, 200, "私たちが普段開発してるあれ", "30");
            book.addImageData(i, "webapp.png",10, 230,1.0);
            
            i++;
            book.addTextData(i, 10, 130, "・留意点", "50",true);
            book.addTextData(i, 30, 200, "①全てのコンテンツがHTTPSである必要がある。", "40");
            book.addTextData(i, 30, 260, "↑自己証明書(いわゆるオレオレ証明書)不可", "40");
            book.addTextData(i, 30, 320, "②非対応ブラウザがある(IE、Operaの一部)", "4");
            book.addTextData(i, 30, 380, "↑最近までSafariも不可(iOS11.3から対応)", "40");
            book.addTextData(i, 30, 440, "③Safariもまだ一部機能に限定されている。", "40");
            book.addTextData(i, 30, 500, "④機能面はまだまだネイティブのほうが強い", "40");
            
            i++;
            book.addTextData(i, 10, 150, "要は", "100",true);
            book.addTextData(i, 30, 250, "①Webページを作る。", "50");
            book.addTextData(i, 30, 300, "②①をキャッシュするServiceWorkerを用意する。", "50");
            book.addTextData(i, 30, 350, "③Web App Manifestを作る", "50");
            book.addTextData(i, 30, 400, "④SSL認証がされているサーバーに配置", "50");
            
            book.addTextData(i, 30, 500, "だけでできちゃいます。", "50");
            
            i++;
            book.addTextData(i, 10, 130, "4.展望", "50",true);
            book.addTextData(i, 30, 200, "①消極的かと思われたAppleが対応している。", "50");
            book.addTextData(i, 30, 250, "※当初は「あいつら融通きかねぇからな」と言われてた", "50");
            book.addTextData(i, 30, 300, "②ポジティブな移行結果報告が出始めてる", "50");
            book.addTextData(i, 30, 350, "※とあるECサイトやTwitterなど", "50");
            book.addTextData(i, 30, 400, "③(Webページとして運用してるだけなら)移行が楽", "50");
            
            book.dataIndex = -1;
            book.setBackGround("background.jpg");
            
            document.getElementById("prev").addEventListener("click",function(){
            	book.prev();
            	document.getElementById("pagenum").value = book.dataIndex;
            });
            
            document.getElementById("next").addEventListener("click",function(){
            	book.next();
            	document.getElementById("pagenum").value = book.dataIndex;
            });
            var pagenums = document.getElementById("pagenum");
            pagenums.max = i - 1;
            pagenums.value = 1;
            
            pagenums.addEventListener("change",function(){
            	book.jumppage(parseInt(document.getElementById("pagenum").value));
            });
        }
    </script>
  </script>
</head>
<body>
  <header class="header">
	<div style="left:10px;right:10px;top:10px;margin:0 auto;position:absolute;width:300px">
		<button id="prev"><</button>
		<input id="pagenum" type="range" min="1">
		<button id="next">></button>
    </div>
  </header>

  <main class="main" style="top:40px">
    <canvas id="slider" width="1000" height="750" style="left:0;right:0;;position:absolute;margin:0 auto;border:1px solid black;">
    </canvas>
  </main>
</body>
</html>